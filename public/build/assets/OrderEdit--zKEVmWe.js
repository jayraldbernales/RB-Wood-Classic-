import{r as i,j as a,g as H,R as S,S as P}from"./app-CQPZVfaW.js";import{P as y,M as C}from"./Modal-BzAZ3knk.js";import{c as j,u as x,b as ee,e as ae}from"./divWithClassName-DRtHi257.js";import{h as te}from"./ElementChildren-DBG0hMJQ.js";import{B as T}from"./Button-jBN9x-Z6.js";function se({as:e,bsPrefix:t,className:s,...n}){t=x(t,"col");const l=ee(),c=ae(),d=[],p=[];return l.forEach(o=>{const m=n[o];delete n[o];let f,v,r;typeof m=="object"&&m!=null?{span:f,offset:v,order:r}=m:f=m;const h=o!==c?`-${o}`:"";f&&d.push(f===!0?`${t}${h}`:`${t}${h}-${f}`),r!=null&&p.push(`order${h}-${r}`),v!=null&&p.push(`offset${h}-${v}`)}),[{...n,className:j(s,...d,...p)},{as:e,bsPrefix:t,spans:d}]}const G=i.forwardRef((e,t)=>{const[{className:s,...n},{as:l="div",bsPrefix:c,spans:d}]=se(e);return a.jsx(l,{...n,ref:t,className:j(s,!d.length&&c)})});G.displayName="Col";var R,B;function le(){if(B)return R;B=1;var e=function(){};return R=e,R}var ne=le();const je=H(ne),oe={type:y.string,tooltip:y.bool,as:y.elementType},$=i.forwardRef(({as:e="div",className:t,type:s="valid",tooltip:n=!1,...l},c)=>a.jsx(e,{...l,ref:c,className:j(t,`${s}-${n?"tooltip":"feedback"}`)}));$.displayName="Feedback";$.propTypes=oe;const N=i.createContext({}),b=i.forwardRef(({id:e,bsPrefix:t,className:s,type:n="checkbox",isValid:l=!1,isInvalid:c=!1,as:d="input",...p},o)=>{const{controlId:m}=i.useContext(N);return t=x(t,"form-check-input"),a.jsx(d,{...p,ref:o,type:n,id:e||m,className:j(s,t,l&&"is-valid",c&&"is-invalid")})});b.displayName="FormCheckInput";const F=i.forwardRef(({bsPrefix:e,className:t,htmlFor:s,...n},l)=>{const{controlId:c}=i.useContext(N);return e=x(e,"form-check-label"),a.jsx("label",{...n,ref:l,htmlFor:s||c,className:j(t,e)})});F.displayName="FormCheckLabel";const M=i.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:s,inline:n=!1,reverse:l=!1,disabled:c=!1,isValid:d=!1,isInvalid:p=!1,feedbackTooltip:o=!1,feedback:m,feedbackType:f,className:v,style:r,title:h="",type:g="checkbox",label:_,children:k,as:K="input",...Q},X)=>{t=x(t,"form-check"),s=x(s,"form-switch");const{controlId:I}=i.useContext(N),Y=i.useMemo(()=>({controlId:e||I}),[I,e]),O=!k&&_!=null&&_!==!1||te(k,F),Z=a.jsx(b,{...Q,type:g==="switch"?"checkbox":g,ref:X,isValid:d,isInvalid:p,disabled:c,as:K});return a.jsx(N.Provider,{value:Y,children:a.jsx("div",{style:r,className:j(v,O&&t,n&&`${t}-inline`,l&&`${t}-reverse`,g==="switch"&&s),children:k||a.jsxs(a.Fragment,{children:[Z,O&&a.jsx(F,{title:h,children:_}),m&&a.jsx($,{type:f,tooltip:o,children:m})]})})})});M.displayName="FormCheck";const w=Object.assign(M,{Input:b,Label:F}),D=i.forwardRef(({bsPrefix:e,type:t,size:s,htmlSize:n,id:l,className:c,isValid:d=!1,isInvalid:p=!1,plaintext:o,readOnly:m,as:f="input",...v},r)=>{const{controlId:h}=i.useContext(N);return e=x(e,"form-control"),a.jsx(f,{...v,type:t,size:n,ref:r,readOnly:m,id:l||h,className:j(c,o?`${e}-plaintext`:e,s&&`${e}-${s}`,t==="color"&&`${e}-color`,d&&"is-valid",p&&"is-invalid")})});D.displayName="FormControl";const ce=Object.assign(D,{Feedback:$}),q=i.forwardRef(({className:e,bsPrefix:t,as:s="div",...n},l)=>(t=x(t,"form-floating"),a.jsx(s,{ref:l,className:j(e,t),...n})));q.displayName="FormFloating";const L=i.forwardRef(({controlId:e,as:t="div",...s},n)=>{const l=i.useMemo(()=>({controlId:e}),[e]);return a.jsx(N.Provider,{value:l,children:a.jsx(t,{...s,ref:n})})});L.displayName="FormGroup";const z=i.forwardRef(({as:e="label",bsPrefix:t,column:s=!1,visuallyHidden:n=!1,className:l,htmlFor:c,...d},p)=>{const{controlId:o}=i.useContext(N);t=x(t,"form-label");let m="col-form-label";typeof s=="string"&&(m=`${m} ${m}-${s}`);const f=j(l,t,n&&"visually-hidden",s&&m);return c=c||o,s?a.jsx(G,{ref:p,as:"label",className:f,htmlFor:c,...d}):a.jsx(e,{ref:p,className:f,htmlFor:c,...d})});z.displayName="FormLabel";const V=i.forwardRef(({bsPrefix:e,className:t,id:s,...n},l)=>{const{controlId:c}=i.useContext(N);return e=x(e,"form-range"),a.jsx("input",{...n,type:"range",ref:l,className:j(t,e),id:s||c})});V.displayName="FormRange";const W=i.forwardRef(({bsPrefix:e,size:t,htmlSize:s,className:n,isValid:l=!1,isInvalid:c=!1,id:d,...p},o)=>{const{controlId:m}=i.useContext(N);return e=x(e,"form-select"),a.jsx("select",{...p,size:s,ref:o,className:j(n,e,t&&`${e}-${t}`,l&&"is-valid",c&&"is-invalid"),id:d||m})});W.displayName="FormSelect";const A=i.forwardRef(({bsPrefix:e,className:t,as:s="small",muted:n,...l},c)=>(e=x(e,"form-text"),a.jsx(s,{...l,ref:c,className:j(t,e,n&&"text-muted")})));A.displayName="FormText";const U=i.forwardRef((e,t)=>a.jsx(w,{...e,ref:t,type:"switch"}));U.displayName="Switch";const ie=Object.assign(U,{Input:w.Input,Label:w.Label}),J=i.forwardRef(({bsPrefix:e,className:t,children:s,controlId:n,label:l,...c},d)=>(e=x(e,"form-floating"),a.jsxs(L,{ref:d,className:j(t,e),controlId:n,...c,children:[s,a.jsx("label",{htmlFor:n,children:l})]})));J.displayName="FloatingLabel";const re={_ref:y.any,validated:y.bool,as:y.elementType},E=i.forwardRef(({className:e,validated:t,as:s="form",...n},l)=>a.jsx(s,{...n,ref:l,className:j(e,t&&"was-validated")}));E.displayName="Form";E.propTypes=re;const u=Object.assign(E,{Group:L,Control:ce,Floating:q,Check:w,Switch:ie,Label:z,Text:A,Range:V,Select:W,FloatingLabel:J}),de=({order:e,show:t,onHide:s,onSuccess:n})=>{const[l,c]=S.useState({status:(e==null?void 0:e.status)||"",payment_status:(e==null?void 0:e.payment_status)||"",start_date:(e==null?void 0:e.start_date)||"",estimated_completion_date:(e==null?void 0:e.estimated_completion_date)||"",actual_completion_date:(e==null?void 0:e.actual_completion_date)||""}),[d,p]=S.useState(!1),[o,m]=S.useState({}),f=r=>{r.preventDefault(),p(!0),P.put(`/admin/orders/${e.id}`,l,{preserveScroll:!0,onSuccess:h=>{const g=h.props.orders.find(_=>_.id===e.id);n(g),s(),p(!1)},onError:h=>{m(h),p(!1),onError&&onError(h)}})},v=(r,h)=>{c(g=>({...g,[r]:h})),o[r]&&m(g=>({...g,[r]:void 0}))};return a.jsxs(C,{show:t,onHide:s,size:"lg",centered:!0,children:[a.jsx(C.Header,{closeButton:!0,className:"bg-light",children:a.jsxs(C.Title,{children:["Edit Order #",e==null?void 0:e.id]})}),a.jsx(C.Body,{children:a.jsxs(u,{onSubmit:f,children:[a.jsxs("div",{className:"row mb-3",children:[a.jsx("div",{className:"col-md-6",children:a.jsxs(u.Group,{children:[a.jsx(u.Label,{children:"Payment Status"}),a.jsxs(u.Select,{value:l.payment_status,onChange:r=>v("payment_status",r.target.value),className:o.payment_status&&"is-invalid",children:[a.jsx("option",{value:"unpaid",children:"Unpaid"}),a.jsx("option",{value:"partially_paid",children:"Partially Paid"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"failed",children:"Failed"})]}),o.payment_status&&a.jsx("div",{className:"invalid-feedback",children:o.payment_status})]})}),a.jsx("div",{className:"col-md-6",children:a.jsxs(u.Group,{children:[a.jsx(u.Label,{children:"Status"}),a.jsxs(u.Select,{value:l.status,onChange:r=>v("status",r.target.value),className:o.status&&"is-invalid",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"ongoing",children:"Ongoing"}),a.jsx("option",{value:"processing",children:"Processing"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),o.status&&a.jsx("div",{className:"invalid-feedback",children:o.status})]})})]}),a.jsxs("div",{className:"row mb-3",children:[a.jsx("div",{className:"col-md-4",children:a.jsxs(u.Group,{children:[a.jsx(u.Label,{children:"Start Date"}),a.jsx(u.Control,{type:"date",value:l.start_date,onChange:r=>v("start_date",r.target.value),className:o.start_date&&"is-invalid"}),o.start_date&&a.jsx("div",{className:"invalid-feedback",children:o.start_date})]})}),a.jsx("div",{className:"col-md-4",children:a.jsxs(u.Group,{children:[a.jsx(u.Label,{children:"Estimated Completion"}),a.jsx(u.Control,{type:"date",value:l.estimated_completion_date,onChange:r=>v("estimated_completion_date",r.target.value),className:o.estimated_completion_date&&"is-invalid"}),o.estimated_completion_date&&a.jsx("div",{className:"invalid-feedback",children:o.estimated_completion_date})]})}),a.jsx("div",{className:"col-md-4",children:a.jsxs(u.Group,{children:[a.jsx(u.Label,{children:"Actual Completion"}),a.jsx(u.Control,{type:"date",value:l.actual_completion_date,onChange:r=>v("actual_completion_date",r.target.value),className:o.actual_completion_date&&"is-invalid"}),o.actual_completion_date&&a.jsx("div",{className:"invalid-feedback",children:o.actual_completion_date})]})})]}),a.jsxs("div",{className:"d-flex justify-content-end pt-3 border-top",children:[a.jsx(T,{variant:"outline-secondary",className:"me-2",onClick:s,disabled:d,children:"Cancel"}),a.jsx(T,{type:"submit",variant:"dark",disabled:d,children:d?"Saving...":"Save Changes"})]})]})})]})},ve=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"}));export{u as F,de as O,ve as a,je as w};
