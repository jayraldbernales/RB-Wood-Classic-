import{r as l,S as v,j as e,L as $,$ as T}from"./app-CQPZVfaW.js";import{S as H,N as E}from"./Sidebar-BiF-fdkO.js";import{L as F}from"./LogoutModal-IrwRk79v.js";import I from"./OrderProductModal-aqwLi6Xy.js";import O from"./Items-W6_3diwC.js";import W from"./StatusModal-3moMTwcl.js";import"./CartModal -B8QpUqrk.js";import"./Modal-BzAZ3knk.js";import"./divWithClassName-DRtHi257.js";import"./index-zrJ3c4AA.js";import"./Anchor-EcQi50gA.js";import"./Button-I07ijjEh.js";import"./ElementChildren-DBG0hMJQ.js";function Y({products:a,categories:n,filters:h,popularProducts:S}){const[d,N]=l.useState(!0),[w,x]=l.useState(!1),[i,y]=l.useState(h.category||"All"),[o,M]=l.useState(h.search||""),[k,u]=l.useState(!1),[c,p]=l.useState(null),g=()=>N(s=>!s),[P,j]=l.useState(!1),[m,C]=l.useState({isSuccess:!0,title:"",message:""}),L=(s,t,r)=>{C({isSuccess:s,title:t,message:r}),j(!0)},b=s=>{p(s),u(!0)},f=s=>{var r;const t=s==="All"?null:(r=n.find(A=>A.name===s))==null?void 0:r.id;y(s),v.get(route("products.index"),{category:t,search:o,page:1},{preserveState:!0,preserveScroll:!0,replace:!0})};return l.useEffect(()=>{const s=setTimeout(()=>{var t;v.get(route("products.index"),{category:i==="All"?null:(t=n.find(r=>r.name===i))==null?void 0:t.id,search:o,page:1},{preserveState:!0,replace:!0})},500);return()=>clearTimeout(s)},[o]),e.jsxs("div",{className:`d-flex ${d?"sidebar-open":""}`,style:{overflow:"hidden"},children:[e.jsx($,{title:"Products"}),e.jsx(H,{sidebarOpen:d,toggleSidebar:g}),e.jsx("div",{className:"content flex-grow-1",style:{marginLeft:d?"220px":"0",transition:"margin-left 0.3s ease",backgroundColor:"#F8F9FA",minHeight:"100vh"},children:e.jsxs("div",{className:"position-relative",style:{paddingTop:"50px"},children:[e.jsx(E,{toggleSidebar:g,setShowLogoutModal:x,searchTerm:o,setSearchTerm:M}),e.jsxs("div",{className:"container px-4 py-5",style:{maxWidth:"1220px"},children:[e.jsx("div",{className:"row mb-4",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center",children:[e.jsx(O,{popularProducts:S}),a.meta&&e.jsxs("div",{className:"badge bg-light text-dark p-3 fs-6",children:["Showing ",a.meta.from,"-",a.meta.to," of"," ",a.meta.total," items"]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"d-flex overflow-auto pb-2",style:{scrollbarWidth:"thin"},children:e.jsxs("div",{className:"d-flex flex-nowrap gap-2 pe-3",children:[e.jsx("button",{className:`btn btn-sm rounded-pill px-4 py-2 fw-bold shadow-sm ${i==="All"?"btn-dark text-white":"btn-outline-dark"}`,onClick:()=>f("All"),children:"All"},"all"),n.map(s=>e.jsx("button",{className:`btn btn-sm rounded-pill px-4 py-2 fw-bold shadow-sm ${i===s.name?"btn-dark text-white":"btn-outline-dark"}`,onClick:()=>f(s.name),children:s.name},s.id))]})})})]})}),e.jsx("div",{className:"row g-4",style:{minHeight:"600px"},children:a.data.length>0?a.data.map(s=>e.jsx("div",{className:"col-xl-3 col-lg-4 col-md-6 mb-4",onClick:()=>b(s),style:{cursor:"pointer"},children:e.jsxs("div",{className:"card product-card border-0 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"product-image-container",children:s.images&&s.images.length>0?e.jsx("img",{src:`/storage/${s.images[0].image}`,className:"card-img-top",alt:s.name,onError:t=>{t.target.onerror=null,t.target.src="/placeholder-image.jpg"}}):e.jsx("div",{className:"no-image-placeholder",children:e.jsx("i",{className:"bi bi-image text-muted"})})}),e.jsxs("div",{className:"card-body p-3",children:[e.jsx("h5",{className:"card-title mb-1 text-truncate",children:s.name}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("span",{className:"text-secondary fw-bold",children:["â‚±",typeof s.price=="number"?s.price.toLocaleString():parseFloat(s.price||0).toLocaleString()]}),e.jsx("button",{className:"btn btn-sm rounded-circle btn-dark",onClick:t=>{t.stopPropagation(),b(s)},children:e.jsx("i",{className:"bi bi-arrow-right-short"})})]})]})]})},s.id)):e.jsx("div",{className:"col-12 text-center py-5",children:e.jsxs("div",{className:"empty-state bg-white p-4 rounded shadow-sm",children:[e.jsx("i",{className:"bi bi-search display-4 text-muted mb-3"}),e.jsx("h4",{className:"mb-2",children:"No products found"}),e.jsx("p",{className:"text-muted mb-4",children:"Try adjusting your search or filter criteria"})]})})}),a.links&&a.links.length>3&&e.jsx("div",{className:"d-flex justify-content-center mt-5",children:e.jsx("nav",{"aria-label":"Page navigation",children:e.jsx("ul",{className:"pagination rounded",children:a.links.map((s,t)=>e.jsx("li",{className:`page-item ${s.active?"active":""} ${s.url?"":"disabled"}`,children:e.jsx(T,{href:s.url||"#",className:"page-link",preserveScroll:!0,preserveState:!0,only:["products","filters"],children:e.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})})},t))})})})]})]})}),c&&e.jsx(I,{product:c,show:k,onHide:()=>{u(!1),p(null)},showStatusModal:L},c.id),e.jsx(W,{show:P,onHide:()=>j(!1),isSuccess:m.isSuccess,title:m.title,message:m.message}),e.jsx(F,{showLogoutModal:w,setShowLogoutModal:x})]})}export{Y as default};
