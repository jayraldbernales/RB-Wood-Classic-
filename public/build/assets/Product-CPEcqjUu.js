import{r as a,S,j as e,L as T}from"./app-BS4kugc_.js";import{S as E,N as F}from"./Sidebar-CSsMitFc.js";import{L as H}from"./LogoutModal-NE8sUUso.js";import $ from"./OrderProductModal-e1tFMPgv.js";import O from"./Items-D6qdMkYz.js";import I from"./StatusModal-Cy53L0d3.js";import"./CartModal -BRo84jOq.js";import"./Modal-dDePCJ63.js";import"./divWithClassName-C-Nil3u1.js";import"./index-GoRCFj3b.js";import"./Anchor-CLQlZ_NA.js";import"./Button-Y9ggSd7K.js";import"./ElementChildren-s8RgqSBx.js";function Y({products:l,categories:n,filters:h,popularProducts:w}){const[d,N]=a.useState(!0),[v,x]=a.useState(!1),[i,y]=a.useState(h.category||"All"),[o,M]=a.useState(h.search||""),[k,u]=a.useState(!1),[c,p]=a.useState(null),g=()=>N(s=>!s),[P,b]=a.useState(!1),[m,C]=a.useState({isSuccess:!0,title:"",message:""}),L=(s,t,r)=>{C({isSuccess:s,title:t,message:r}),b(!0)},j=s=>{p(s),u(!0)},f=s=>{var r;const t=s==="All"?null:(r=n.find(A=>A.name===s))==null?void 0:r.id;y(s),S.get(route("products.index"),{category:t,search:o,page:1},{preserveState:!0,preserveScroll:!0,replace:!0})};return a.useEffect(()=>{const s=setTimeout(()=>{var t;S.get(route("products.index"),{category:i==="All"?null:(t=n.find(r=>r.name===i))==null?void 0:t.id,search:o,page:1},{preserveState:!0,replace:!0})},500);return()=>clearTimeout(s)},[o]),e.jsxs("div",{className:`d-flex ${d?"sidebar-open":""}`,style:{overflow:"hidden"},children:[e.jsx(T,{title:"Products"}),e.jsx(E,{sidebarOpen:d,toggleSidebar:g}),e.jsx("div",{className:"content flex-grow-1",style:{marginLeft:d?"220px":"0",transition:"margin-left 0.3s ease",backgroundColor:"#F8F9FA",minHeight:"100vh"},children:e.jsxs("div",{className:"position-relative",style:{paddingTop:"50px"},children:[e.jsx(F,{toggleSidebar:g,setShowLogoutModal:x,searchTerm:o,setSearchTerm:M}),e.jsxs("div",{className:"container px-4 py-5",style:{maxWidth:"1220px"},children:[e.jsx("div",{className:"row mb-4",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center",children:[e.jsx(O,{popularProducts:w}),l.meta&&e.jsxs("div",{className:"badge bg-light text-dark p-3 fs-6",children:["Showing ",l.meta.from,"-",l.meta.to," of"," ",l.meta.total," items"]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"d-flex overflow-auto pb-2",style:{scrollbarWidth:"thin"},children:e.jsxs("div",{className:"d-flex flex-nowrap gap-2 pe-3",children:[e.jsx("button",{className:`btn btn-sm rounded-pill px-4 py-2 fw-bold shadow-sm ${i==="All"?"btn-dark text-white":"btn-outline-dark"}`,onClick:()=>f("All"),children:"All"},"all"),n.map(s=>e.jsx("button",{className:`btn btn-sm rounded-pill px-4 py-2 fw-bold shadow-sm ${i===s.name?"btn-dark text-white":"btn-outline-dark"}`,onClick:()=>f(s.name),children:s.name},s.id))]})})})]})}),e.jsx("div",{className:"row g-4",style:{minHeight:"600px"},children:l.length>0?l.map(s=>e.jsx("div",{className:"col-xl-3 col-lg-4 col-md-6 mb-4",onClick:()=>j(s),style:{cursor:"pointer"},children:e.jsxs("div",{className:"card product-card border-0 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"product-image-container",children:s.images&&s.images.length>0?e.jsx("img",{src:`/storage/${s.images[0].image}`,className:"card-img-top",alt:s.name,onError:t=>{t.target.onerror=null,t.target.src="/placeholder-image.jpg"}}):e.jsx("div",{className:"no-image-placeholder",children:e.jsx("i",{className:"bi bi-image text-muted"})})}),e.jsxs("div",{className:"card-body p-3",children:[e.jsx("h5",{className:"card-title mb-1 text-truncate",children:s.name}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("span",{className:"text-secondary fw-bold",children:["â‚±",typeof s.price=="number"?s.price.toLocaleString():parseFloat(s.price||0).toLocaleString()]}),e.jsx("button",{className:"btn btn-sm rounded-circle btn-dark",onClick:t=>{t.stopPropagation(),j(s)},children:e.jsx("i",{className:"bi bi-arrow-right-short"})})]})]})]})},s.id)):e.jsx("div",{className:"col-12 text-center py-5",children:e.jsxs("div",{className:"empty-state bg-white p-4 rounded shadow-sm",children:[e.jsx("i",{className:"bi bi-search display-4 text-muted mb-3"}),e.jsx("h4",{className:"mb-2",children:"No products found"}),e.jsx("p",{className:"text-muted mb-4",children:"Try adjusting your search or filter criteria"})]})})})]})]})}),c&&e.jsx($,{product:c,show:k,onHide:()=>{u(!1),p(null)},showStatusModal:L},c.id),e.jsx(I,{show:P,onHide:()=>b(!1),isSuccess:m.isSuccess,title:m.title,message:m.message}),e.jsx(H,{showLogoutModal:v,setShowLogoutModal:x})]})}export{Y as default};
