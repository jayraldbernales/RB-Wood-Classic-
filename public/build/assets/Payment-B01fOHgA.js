import{r,j as t,L as o}from"./app-xG73tkTT.js";import{C as c}from"./CheckoutLayout-D_wrJyaw.js";var i={};function d({order:n,paymentIntentClientSecret:a}){r.useEffect(()=>{const e=document.createElement("script");return e.src="https://js.paymongo.com/v1",e.async=!0,e.onload=s,document.body.appendChild(e),()=>{document.body.removeChild(e)}},[]);const s=()=>{window.paymongo.setPublishableKey(i.MIX_PAYMONGO_PUBLIC_KEY),window.paymongo.createPaymentMethod({type:"gcash",billing:{name:n.customer_name,email:n.customer_email,phone:n.customer_phone}}).then(e=>window.paymongo.attachPaymentToIntent(a,e.paymentMethod.id)).then(e=>{window.location.href=e.paymentIntent.next_action.redirect.url}).catch(e=>{console.error("Payment error:",e)})};return t.jsxs(c,{step:2,children:[t.jsx(o,{title:"Processing Payment"}),t.jsx("div",{className:"card",children:t.jsxs("div",{className:"card-body text-center py-5",children:[t.jsx("div",{className:"mb-4",children:t.jsx("div",{className:"spinner-border text-primary",style:{width:"3rem",height:"3rem"},role:"status",children:t.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),t.jsx("h2",{className:"mb-3",children:"Processing Your Payment"}),t.jsx("p",{className:"lead",children:"Please wait while we prepare your secure payment gateway..."}),t.jsxs("p",{className:"text-muted",children:["Order #: ",n.order_number]}),t.jsxs("p",{className:"h4 text-primary",children:["Amount: â‚±",n.downpayment_amount.toLocaleString("en-PH")]})]})})]})}export{d as default};
