import{j as s}from"./app-BS4kugc_.js";import{M as r}from"./Modal-dDePCJ63.js";import{B as h}from"./Badge-hIOn_Hhz.js";import{B as x}from"./Button-CGVNZlZA.js";import"./divWithClassName-C-Nil3u1.js";import"./index-GoRCFj3b.js";import"./Button-Y9ggSd7K.js";const w=({show:m,onHide:t,order:a,getStatusColor:j})=>{if(!a)return null;const o=e=>{var l;return(l=e==null?void 0:e.images)!=null&&l.length?e.images[0].url?e.images[0].url.startsWith("http")?e.images[0].url:`${window.location.origin}${e.images[0].url}`:`${window.location.origin}/storage/${e.images[0].image}`:"https://via.placeholder.com/150?text=No+Image"},i=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(e);return s.jsxs(r,{show:m,onHide:t,size:"lg",centered:!0,children:[s.jsx(r.Header,{closeButton:!0,className:"border-bottom bg-light",children:s.jsxs(r.Title,{className:"fw-bold",children:[s.jsx("i",{className:"bi bi-receipt me-2"})," Order #",a.id]})}),s.jsxs(r.Body,{className:"p-4",children:[s.jsx("div",{className:"card border-0 shadow-sm mb-4",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"row mb-3",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Name:"})," ",a.user.name]}),s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Email:"})," ",a.user.email]}),s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Phone:"})," ",a.user.phone_number||"N/A"]})]}),s.jsxs("div",{className:"col-md-6",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Address:"})," ",a.user.address||"N/A"]}),s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Order Date:"})," ",new Date(a.created_at).toLocaleString()]}),s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Payment Method:"})," ",s.jsx(h,{bg:a.payment_method==="card"?"primary":"secondary",className:"me-2",children:a.payment_method==="card"?"Credit Card":"Pay In-Store"})]})]})]}),a.message&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h6",{className:"fw-semibold mb-2",children:"Customer Message"}),s.jsx("div",{className:"border rounded bg-white p-3 shadow-sm",children:s.jsx("p",{className:"mb-0 text-dark",children:a.message})})]})]})}),s.jsx("div",{className:"card border-0 shadow-sm mb-4",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("h5",{className:"fw-semibold mb-3 border-bottom pb-2",children:["Ordered Items (",a.items.length,")"]}),s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table align-middle",children:[s.jsx("thead",{className:"table-light",children:s.jsxs("tr",{children:[s.jsx("th",{children:"Product"}),s.jsx("th",{children:"Qty"}),s.jsx("th",{children:"Price"}),s.jsx("th",{children:"Subtotal"})]})}),s.jsx("tbody",{children:a.items.map((e,l)=>{var c,d;return s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("img",{src:o(e.product),alt:((c=e.product)==null?void 0:c.name)||`Product ${e.product_id}`,className:"img-thumbnail me-3",style:{width:"80px",height:"80px",objectFit:"cover"},onError:n=>{n.target.onerror=null,n.target.src="https://via.placeholder.com/150?text=No+Image"}}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-medium",children:((d=e.product)==null?void 0:d.name)||`Product ${e.product_id}`}),e.variation&&s.jsx("small",{className:"text-muted",children:e.variation.name})]})]})}),s.jsx("td",{children:e.quantity}),s.jsx("td",{children:i(e.price)}),s.jsx("td",{className:"fw-bold",children:i(e.quantity*e.price)})]},l)})})]})})]})}),s.jsx("div",{className:"card border-0 shadow-sm",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsx("span",{className:"fw-bold fs-5",children:"Total Amount"}),s.jsx("span",{className:"fw-bold text-dark fs-4",children:i(a.total_amount)})]})})})]}),s.jsx(r.Footer,{className:"border-top bg-light",children:s.jsx(x,{variant:"secondary",onClick:t,children:"Close"})})]})};export{w as default};
