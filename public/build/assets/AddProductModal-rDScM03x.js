import{r as b,m as v,j as e}from"./app-BS4kugc_.js";function y({showModal:u,toggleModal:i,categories:n,onSuccess:c,onError:o}){const d=b.useRef(null),{data:r,setData:t,post:x,reset:p,processing:m,errors:s}=v({name:"",category_id:"",description:"",price:"",images:[]}),h=a=>{t("images",Array.from(a.target.files))},g=a=>{a.preventDefault();const l=new FormData;l.append("name",r.name),l.append("category_id",r.category_id),l.append("description",r.description),l.append("price",r.price),r.images.forEach((j,f)=>{l.append(`images[${f}]`,j)}),x("/admin/product",{data:l,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{p(),t("images",[]),d.current&&(d.current.value=""),i(),c&&c()},onError:()=>{o&&o()}})};return e.jsx("div",{className:`modal fade ${u?"show d-block":""}`,tabIndex:"-1",style:{background:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",style:{maxWidth:"900px",width:"90%",maxHeight:"90vh",overflowY:"auto"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Add Product"}),e.jsx("button",{type:"button",className:"btn-close",onClick:i})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-dark form-label",children:"Product Name"}),e.jsx("input",{type:"text",className:"form-control",value:r.name,onChange:a=>t("name",a.target.value),required:!0}),s.name&&e.jsx("div",{className:"text-danger",children:s.name})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-dark form-label",children:"Category"}),e.jsxs("select",{className:"form-control",value:r.category_id,onChange:a=>t("category_id",a.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),n&&n.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),s.category_id&&e.jsx("div",{className:"text-danger",children:s.category_id})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-dark form-label",children:"Description"}),e.jsx("textarea",{className:"form-control",value:r.description,onChange:a=>t("description",a.target.value),required:!0}),s.description&&e.jsx("div",{className:"text-danger",children:s.description})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-dark form-label",children:"Price"}),e.jsx("input",{type:"number",className:"form-control",value:r.price,onChange:a=>t("price",a.target.value),required:!0}),s.price&&e.jsx("div",{className:"text-danger",children:s.price})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-dark form-label",children:"Images (Multiple)"}),e.jsx("input",{type:"file",className:"form-control",multiple:!0,ref:d,onChange:h,required:!0}),s.images&&e.jsx("div",{className:"text-danger",children:s.images})]}),e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx("button",{type:"submit",className:"btn btn-dark",disabled:m,children:m?"Adding...":"Add Product"})})]})})]})})})}export{y as default};
