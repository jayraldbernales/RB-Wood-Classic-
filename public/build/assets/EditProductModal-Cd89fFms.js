import{m as h,r as j,j as e}from"./app-CupyZw7M.js";function v({showModal:m,toggleModal:l,categories:c,selectedProduct:t,onSuccess:n,onError:o}){const{data:s,setData:i,put:x,reset:u,processing:d,errors:r}=h({name:"",category_id:"",description:"",price:""});j.useEffect(()=>{t&&i({name:t.name,category_id:t.category_id,description:t.description,price:t.price})},[t]);const p=a=>{a.preventDefault(),!d&&x(`/admin/product/${t.id}`,{data:{name:s.name,category_id:s.category_id,description:s.description,price:s.price},onSuccess:()=>{u(),l(),n&&n("Product updated successfully")},onError:()=>{o&&o("Failed to update product")}})};return e.jsx("div",{className:`modal fade ${m?"show d-block":""}`,tabIndex:"-1",style:{background:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",style:{maxWidth:"900px",width:"90%",maxHeight:"90vh",overflowY:"auto"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Edit Product"}),e.jsx("button",{type:"button",className:"btn-close",onClick:l})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-dark form-label",children:"Product Name"}),e.jsx("input",{type:"text",className:"form-control",value:s.name,onChange:a=>i("name",a.target.value),required:!0}),r.name&&e.jsx("div",{className:"text-danger",children:r.name})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-dark form-label",children:"Category"}),e.jsxs("select",{className:"form-control",value:s.category_id,onChange:a=>i("category_id",a.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),c&&c.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),r.category_id&&e.jsx("div",{className:"text-danger",children:r.category_id})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-dark form-label",children:"Description"}),e.jsx("textarea",{className:"form-control",value:s.description,onChange:a=>i("description",a.target.value),required:!0}),r.description&&e.jsx("div",{className:"text-danger",children:r.description})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-dark form-label",children:"Price"}),e.jsx("input",{type:"number",className:"form-control",value:s.price,onChange:a=>i("price",a.target.value),required:!0}),r.price&&e.jsx("div",{className:"text-danger",children:r.price})]}),e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx("button",{type:"submit",className:"btn btn-dark",disabled:d,children:d?"Updating...":"Update Product"})})]})})]})})})}export{v as default};
