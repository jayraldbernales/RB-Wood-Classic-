import{K as j,r as u,m as v,j as e,$ as N}from"./app-CQPZVfaW.js";import f from"./StatusModal-3moMTwcl.js";function C({mustVerifyEmail:x,status:b,className:w=""}){var c,m;const r=j().props.auth.user,[h,n]=u.useState(!1),[d,o]=u.useState({isSuccess:!0,title:"",message:""}),{data:t,setData:l,patch:g,errors:a,processing:i}=v({name:r.name,email:r.email,phone_number:r.phone_number||"",address:r.address||"",gender:((c=r.gender)==null?void 0:c.charAt(0).toUpperCase())+((m=r.gender)==null?void 0:m.slice(1).toLowerCase())||""}),p=s=>{s.preventDefault(),g(route("profile.update"),{onSuccess:()=>{o({isSuccess:!0,title:"Success!",message:"Profile updated successfully"}),n(!0)},onError:()=>{o({isSuccess:!1,title:"Error!",message:"Failed to update profile"}),n(!0)}})};return e.jsxs("div",{className:"container",style:{maxWidth:"1200px"},children:[e.jsx(f,{show:h,onHide:()=>n(!1),isSuccess:d.isSuccess,title:d.title,message:d.message}),e.jsx("div",{className:"card shadow-sm",children:e.jsx("div",{className:"card-body",children:e.jsx("form",{onSubmit:p,children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("h2",{className:"text-dark fw-bold border-bottom pb-2 mb-4",children:[e.jsx("i",{className:"bi bi-person-gear me-2"})," ","Personal Information"]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{htmlFor:"name",className:"form-label fw-medium text-muted",children:["Full Name"," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text bg-white border-end-0",children:e.jsx("i",{className:"bi bi-person text-muted"})}),e.jsx("input",{id:"name",type:"text",className:`form-control border-start-0 ${a.name?"is-invalid":""}`,style:{boxShadow:"none",transition:"all 0.2s ease",paddingLeft:"0.5rem"},value:t.name,onChange:s=>l("name",s.target.value),required:!0,onFocus:s=>{s.target.style.borderColor="#6c757d",s.target.style.boxShadow="0 0 0 0.2rem rgba(108, 117, 125, 0.1)"},onBlur:s=>{s.target.style.borderColor=a.name?"#dc3545":"#dee2e6",s.target.style.boxShadow="none"}})]}),a.name&&e.jsx("div",{className:"invalid-feedback d-block",children:a.name})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{htmlFor:"email",className:"form-label fw-medium text-muted",children:["Email ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text bg-white border-end-0",children:e.jsx("i",{className:"bi bi-envelope text-muted"})}),e.jsx("input",{id:"email",type:"email",className:`form-control border-start-0 ${a.email?"is-invalid":""}`,style:{boxShadow:"none",transition:"all 0.2s ease",paddingLeft:"0.5rem"},value:t.email,onChange:s=>l("email",s.target.value),required:!0,onFocus:s=>{s.target.style.borderColor="#6c757d",s.target.style.boxShadow="0 0 0 0.2rem rgba(108, 117, 125, 0.1)"},onBlur:s=>{s.target.style.borderColor=a.email?"#dc3545":"#dee2e6",s.target.style.boxShadow="none"}})]}),a.email&&e.jsx("div",{className:"invalid-feedback d-block",children:a.email})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{htmlFor:"phone_number",className:"form-label fw-medium text-muted",children:["Phone Number"," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text bg-white border-end-0",children:e.jsx("i",{className:"bi bi-telephone text-muted"})}),e.jsx("input",{id:"phone_number",type:"tel",className:`form-control border-start-0 ${a.phone_number?"is-invalid":""}`,style:{boxShadow:"none",transition:"all 0.2s ease",paddingLeft:"0.5rem"},value:t.phone_number,onChange:s=>l("phone_number",s.target.value),onFocus:s=>{s.target.style.borderColor="#6c757d",s.target.style.boxShadow="0 0 0 0.2rem rgba(108, 117, 125, 0.1)"},onBlur:s=>{s.target.style.borderColor=a.phone_number?"#dc3545":"#dee2e6",s.target.style.boxShadow="none"}})]}),a.phone_number&&e.jsx("div",{className:"invalid-feedback d-block",children:a.phone_number})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{htmlFor:"gender",className:"form-label fw-medium text-muted",children:["Gender"," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text bg-white border-end-0",children:e.jsx("i",{className:"bi bi-gender-ambiguous text-muted"})}),e.jsxs("select",{id:"gender",className:`form-select border-start-0 ${a.gender?"is-invalid":""}`,style:{boxShadow:"none",transition:"all 0.2s ease",paddingLeft:"0.5rem"},value:t.gender,onChange:s=>l("gender",s.target.value),onFocus:s=>{s.target.style.borderColor="#6c757d",s.target.style.boxShadow="0 0 0 0.2rem rgba(108, 117, 125, 0.1)"},onBlur:s=>{s.target.style.borderColor=a.gender?"#dc3545":"#dee2e6",s.target.style.boxShadow="none"},children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),a.gender&&e.jsx("div",{className:"invalid-feedback d-block",children:a.gender})]}),e.jsxs("div",{className:"col-12",children:[e.jsxs("label",{htmlFor:"address",className:"form-label fw-medium text-muted",children:["Address (Purok 1, Cawayanan, Mabini, Bohol)"," ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text bg-white border-end-0 align-items-start pt-2",children:e.jsx("i",{className:"bi bi-house text-muted"})}),e.jsx("textarea",{id:"address",className:`form-control border-start-0 ${a.address?"is-invalid":""}`,style:{boxShadow:"none",transition:"all 0.2s ease",paddingLeft:"0.5rem",minHeight:"100px"},rows:"3",value:t.address,onChange:s=>l("address",s.target.value),onFocus:s=>{s.target.style.borderColor="#6c757d",s.target.style.boxShadow="0 0 0 0.2rem rgba(108, 117, 125, 0.1)"},onBlur:s=>{s.target.style.borderColor=a.address?"#dc3545":"#dee2e6",s.target.style.boxShadow="none"}})]}),a.address&&e.jsx("div",{className:"invalid-feedback d-block",children:a.address})]}),x&&r.email_verified_at===null&&e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"alert alert-warning border-0 shadow-sm",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1",children:"Your email address is unverified."}),e.jsx(N,{href:route("verification.send"),method:"post",as:"button",className:"btn btn-link p-0 text-warning",children:"Click here to re-send the verification email."}),b==="verification-link-sent"&&e.jsx("div",{className:"text-success mt-1",children:"A new verification link has been sent to your email address."})]})]})})}),e.jsx("div",{className:"col-12 mt-4",children:e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx("button",{type:"submit",disabled:i,className:"btn btn-dark shadow-sm px-4 py-2",style:{transition:"all 0.2s ease",border:"1px solid rgba(0,0,0,0.1)"},onMouseOver:s=>{s.target.style.transform="translateY(-1px)",s.target.style.boxShadow="0 4px 6px rgba(0,0,0,0.1)"},onMouseOut:s=>{s.target.style.transform="translateY(0)",s.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:i?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"bi bi-save me-2"}),"Save Changes"]})})})})]})})})})]})}export{C as default};
